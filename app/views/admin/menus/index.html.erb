<div class="container">
  <div class="d-flex justify-content-center">
    <%= render partial: "admin/shared/navtab" %>
  </div>
    <div class="d-flex justify-content-end">
      <%= link_to "新增菜單", new_admin_menu_path, class: "btn btn-primary" %>
    </div>
  <div class="row">
    <div class="col-sm-8 offset-sm-2">
      <table class="table table-hover">
        <thead>
          <tr>
            <th style="width: 40px;">ID</th>
            <th>分類</th>
            <th>菜單名稱</th>
            <th class="text-center">處理</th>
          </tr>
        </thead>
        <tbody>
          <% @menus.each_with_index do |menu, index| %>
            <tr>
              <td data-link="<%= admin_menu_path(menu) %>"><%= index + 1 %></td>
              <td data-link="<%= admin_menu_path(menu) %>"><%= menu.category.name %></td>
              <td data-link="<%= admin_menu_path(menu) %>"><%= menu.name %></td>
              <td style="width: 160px;" class="text-right">
                <%= link_to "編輯", edit_admin_menu_path(menu), class: "btn btn-primary" %>
                <%= link_to "刪除", admin_menu_path(menu), method: :delete, data: { confirm: "確定刪除？" }, class: "btn btn-danger" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
  $("td[data-link]").click(function() {
    window.location = $(this).data("link")
  })
</script>